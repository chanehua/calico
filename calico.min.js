!function(n){"use strict";function i(n,t){function e(i,e){return(e?n[e]:n)instanceof i&&(e?t[e]:t)instanceof i}if(!n||!t)return n?n:t;if(e(Function))return function(){return t.apply(this,arguments),n.apply(this,arguments)};if(e(Function,"sort"))return t.concat(n);if(e(Object)){for(var o in t)n[o]=i(n[o],t[o]);return n}return n}function t(n){var t,e,r,c,s=Array.prototype.slice.call(arguments,1),u={};n instanceof Function&&(n=n.prototype||n),s.length-1&&s.reverse();for(e in s)if(c=s[e],c.constructor===String&&(c=o[c]||{}),c instanceof Function){c.call(u);for(t in u)n[t]=i(n[t],u[t]);u={}}else for(r in c)n[r]=i(n[r],c[r]);return n}function e(){if(!arguments.length)return this;var n=void 0!==this.prototype,i=Array.prototype.slice.call(arguments);t.apply({},[this].concat(i)),n?this.prototype.__mixins__=_.union(this.prototype.__mixins__,i):this.__mixins__=i}var o={};return t.registerMixin=function(n,i){var t,e={};n instanceof Object?e=n:e[n]=i;for(t in e)o[t]=e[t]},t.deregisterMixin=function(n){return void 0===n?void(o={}):(o[n]=null,void delete o[n])},void 0===n.Backbone?void 0!==n.exports?void(n.exports.Calico=t):void 0!==n.require?void define("calico",function(){return t}):void(n.Calico=t):(n.Backbone.Calico=t,void _.each(["Collection","Model","Router","View"],function(i){var t=n.Backbone[i],o=t.extend;_.extend(t,{mixin:e,extend:function(n){var i;return n instanceof Object&&void 0!==n.mixins&&(i=_.union(this.prototype.__mixins__,n.mixins.slice()),delete n.mixins,e.apply(n,i)),o.apply(this,arguments)}})}))}(this);