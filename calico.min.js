!function(n){"use strict";function i(n,t,e){function o(i,e){return(e?n[e]:n)instanceof i&&(e?t[e]:t)instanceof i}if(!n||!t)return n?n:t;if(o(Function))return function(){return t.apply(this,arguments),n.apply(this,arguments)};if(o(Function,"sort"))return e?t.concat(n):n.concat(t);if(o(Object)){for(var r in t)n[r]=i(n[r],t[r],e);return n}return e?n:t}function t(n){var t,e,r,c,s=Array.prototype.slice.call(arguments,1),u={},a=!1;n instanceof Function&&(n=n.prototype||n),s.length-1&&(s.reverse(),a=!0);for(e in s)if(c=s[e],c.constructor===String&&(c=o[c]||{}),c instanceof Function){c.call(u);for(t in u)n[t]=i(n[t],u[t],a);u={}}else for(r in c)n[r]=i(n[r],c[r],a);return n}function e(){if(!arguments.length)return this;var n=Array.prototype.slice.call(arguments);t.apply({},[this].concat(n)),void 0!==this.prototype?this.prototype.__mixins__=_.union(this.prototype.__mixins__,n):this.__mixins__=n}var o={};return t.registerMixin=function(n,i){var t,e={};n instanceof Object?e=n:e[n]=i;for(t in e)o[t]=e[t]},t.deregisterMixin=function(n){return void 0===n?void(o={}):(o[n]=null,void delete o[n])},void 0===n.Backbone?void 0!==n.exports?void(n.exports.Calico=t):void 0!==n.require?void define("calico",function(){return t}):void(n.Calico=t):(n.Backbone.Calico=t,void _.each(["Collection","Model","Router","View"],function(i){var t=n.Backbone[i],o=t.extend;_.extend(t,{mixin:e,extend:function(n){var i;return n instanceof Object&&void 0!==n.mixins&&(i=_.union(this.prototype.__mixins__,n.mixins.slice()),delete n.mixins,e.apply(n,i)),o.apply(this,arguments)}})}))}(this);