!function(n){"use strict";function t(n,i,e){function r(t,e){return(e?n[e]:n)instanceof t&&(e?i[e]:i)instanceof t}if(!n||!i)return n?n:i;if(r(Function))return function(){return i.apply(this,arguments),n.apply(this,arguments)};if(r(Function,"sort"))return e?i.concat(n):n.concat(i);if(r(Object)){for(var o in i)n[o]=t(n[o],i[o],e);return n}return e?n:i}function i(n){var i,e,o,c,u=Array.prototype.slice.call(arguments,1),a={},s=!1;n instanceof Function&&(n=n.prototype||n),u.length-1&&(u.reverse(),s=!0);for(e in u)if(c=u[e],c.constructor===String&&(c=r[c]||{}),c instanceof Function){c.call(a);for(i in a)n[i]=t(n[i],a[i],s);a={}}else for(o in c)n[o]=t(n[o],c[o],s);return n}function e(){if(!arguments.length)return this;var n=Array.prototype.slice.call(arguments);return i.apply({},[this].concat(n))}var r={};return i.registerMixin=function(n,t){var i,e={};n instanceof Object?e=n:e[n]=t;for(i in e)r[i]=e[i]},i.deregisterMixin=function(n){return void 0===n?void(r={}):(r[n]=null,void delete r[n])},void 0===n.Backbone?void 0!==n.exports?void(n.exports.Calico=i):void 0!==n.require?void define("calico",function(){return i}):void(n.Calico=i):(n.Backbone.Calico=i,void _.each(["Collection","Model","Router","View"],function(t){var i=n.Backbone[t],r=i.extend;_.extend(i,{mixin:e,extend:function(n){var t;return n instanceof Object&&void 0!==n.mixins&&(t=n.mixins,n.mixins=null,delete n.mixins,e.apply(n,t)),r.apply(this,arguments)}})}))}(this);